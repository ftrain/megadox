═══════════════════════════════════════════════════════════════════════════
  NetHack Encyclopedia - Complete Pandoc Build System
  Created: 2025-11-19
═══════════════════════════════════════════════════════════════════════════

BUILD SYSTEM DIRECTORY: /home/user/NetHack/docs-build/

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1. BUILD AUTOMATION FILES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

File: /home/user/NetHack/docs-build/Makefile
Size: 6.5KB
Purpose: Primary build automation with 6 targets
Targets:
  - make all      Build both EPUB and PDF
  - make epub     Build EPUB only
  - make pdf      Build PDF only  
  - make check    Verify dependencies
  - make clean    Remove outputs
  - make help     Show help

File: /home/user/NetHack/docs-build/build-epub.sh
Size: 3.2KB
Permissions: Executable (chmod +x)
Purpose: Standalone EPUB builder script with color output and validation

File: /home/user/NetHack/docs-build/build-pdf.sh
Size: 4.3KB
Permissions: Executable (chmod +x)
Purpose: Standalone PDF builder script with LaTeX engine auto-detection

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2. CONFIGURATION FILES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

File: /home/user/NetHack/docs-build/metadata.yaml
Size: 2.9KB
Purpose: Complete book metadata and pandoc configuration
Contains:
  - Title: "The NetHack Encyclopedia: A Comprehensive Guide"
  - Subtitle: "Complete Monster Catalog, Item Compendium, and Game Mechanics"
  - Authors: NetHack DevTeam, Compiled by Claude AI
  - Date: 2025-11-19
  - Version: NetHack 3.7
  - Publisher: NetHack Community Documentation Project
  - License: NetHack General Public License
  - Abstract: Comprehensive game guide description
  - PDF settings: book class, 11pt, two-sided, proper margins
  - Typography: DejaVu fonts, 1.2 line spacing
  - TOC: 3-level depth with numbered sections

File: /home/user/NetHack/docs-build/epub.css
Size: 4.4KB
Purpose: Professional EPUB styling
Features:
  - Clean typography with Georgia/DejaVu fonts
  - Syntax-highlighted code blocks
  - Professional table formatting
  - Responsive design for various screen sizes
  - Custom styles for NetHack content
  - Print-friendly styles

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3. DOCUMENTATION FILES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

File: /home/user/NetHack/docs-build/README_BUILD.md
Size: 9.7KB
Purpose: Complete build system documentation
Sections:
  - Overview and quick start
  - Prerequisites (pandoc, LaTeX)
  - Build system structure
  - Three build methods (Makefile, scripts, direct)
  - Customization guide
  - Output features
  - Troubleshooting (common issues and solutions)
  - Advanced usage
  - Performance tips
  - Quality assurance
  - CI/CD integration examples

File: /home/user/NetHack/docs-build/QUICKSTART.md
Size: 2.8KB
Purpose: Quick reference guide for immediate use
Contains:
  - Fastest build commands
  - First-time setup
  - Common commands reference
  - Alternative build methods
  - Quick troubleshooting

File: /home/user/NetHack/docs-build/BUILD_SYSTEM_SUMMARY.md
Size: 12.0KB
Purpose: Comprehensive technical summary
Contains:
  - Complete directory structure
  - File-by-file breakdown
  - Build process details
  - Customization options
  - Quality features
  - Testing recommendations
  - Integration options

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4. SOURCE DOCUMENTATION (Input Files)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

File: /home/user/NetHack/README_BESTIARY.md
Size: 6.5KB (215 lines)
Purpose: Chapter 1 - Overview and summary
Content: Quick stats, top monsters, key files, usage

File: /home/user/NetHack/MONSTER_CATALOG_COMPLETE.md
Size: 20KB (641 lines)
Purpose: Chapter 2 - Complete monster catalog
Content: All 394 monsters, structures, AI, mechanics

File: /home/user/NetHack/NETHACK_ITEM_COMPENDIUM.md
Size: 50KB (1,204 lines)
Purpose: Chapter 3 - Complete item documentation
Content: All items, weapons, armor, artifacts, probabilities

Total Source: 76.5KB across 2,060 lines

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5. OUTPUT FILES (Generated by Build System)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Output Directory: /home/user/NetHack/docs-output/
(Created automatically during first build)

File: /home/user/NetHack/docs-output/NetHack-Encyclopedia.epub
Format: EPUB 3
Estimated Size: ~100-200KB
Compatible With: Calibre, Apple Books, Google Play Books, Kindle (converted)
Features:
  ✓ Embedded DejaVu fonts
  ✓ Custom CSS styling
  ✓ Table of contents with 3-level depth
  ✓ Numbered sections
  ✓ Cross-references and internal links
  ✓ Optimized for e-readers

File: /home/user/NetHack/docs-output/NetHack-Encyclopedia.pdf
Format: PDF (via XeLaTeX)
Estimated Size: ~500KB-1MB
Use Cases: Desktop reading, printing, archival
Features:
  ✓ Professional book layout (two-sided)
  ✓ Print-ready quality
  ✓ Table of contents with page numbers
  ✓ Headers and footers
  ✓ Syntax-highlighted code
  ✓ Hyperlinked cross-references
  ✓ Proper margins and binding offset

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6. USAGE INSTRUCTIONS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

QUICKSTART (3 steps):

1. Install dependencies (first time only):
   
   Ubuntu/Debian:
   sudo apt-get update
   sudo apt-get install pandoc texlive-xetex texlive-fonts-recommended \
                        texlive-latex-recommended

   macOS:
   brew install pandoc
   brew install --cask mactex

2. Navigate to build directory:
   cd /home/user/NetHack/docs-build

3. Build documentation:
   make all          # Build both EPUB and PDF
   make epub         # EPUB only (faster)
   make pdf          # PDF only

ALTERNATIVE METHODS:

Using shell scripts:
   cd /home/user/NetHack/docs-build
   ./build-epub.sh
   ./build-pdf.sh

Using pandoc directly:
   cd /home/user/NetHack/docs-build
   pandoc --from=markdown --to=epub3 --standalone \
          --metadata-file=metadata.yaml --css=epub.css \
          --toc --number-sections \
          -o ../docs-output/NetHack-Encyclopedia.epub \
          ../README_BESTIARY.md \
          ../MONSTER_CATALOG_COMPLETE.md \
          ../NETHACK_ITEM_COMPENDIUM.md

VERIFY SETUP:
   cd /home/user/NetHack/docs-build
   make check        # Check dependencies and files
   make help         # Show all available commands

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
7. BUILD SYSTEM FEATURES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

EPUB Features:
✓ EPUB 3 standard compliance
✓ Embedded fonts (DejaVu Serif, Sans, Mono)
✓ Custom CSS styling
✓ Automatic table of contents (3-level depth)
✓ Numbered sections and subsections
✓ Internal cross-references
✓ Semantic HTML structure
✓ E-reader optimized layout
✓ Mobile-friendly responsive design

PDF Features:
✓ Professional book-style layout
✓ Two-sided printing support (twoside class option)
✓ Proper page margins with binding offset
✓ Table of contents with clickable page numbers
✓ Running headers and footers
✓ Syntax-highlighted code blocks (tango style)
✓ Hyperlinked cross-references (blue links)
✓ Print-ready quality output
✓ Chapter breaks on right pages (openright)

Build System Features:
✓ Makefile with dependency tracking
✓ Color-coded progress output
✓ Automatic dependency checking
✓ File verification before build
✓ Error handling and reporting
✓ Build time reporting
✓ File size reporting
✓ Page count reporting (PDF)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
8. CUSTOMIZATION OPTIONS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Change Book Metadata:
Edit: /home/user/NetHack/docs-build/metadata.yaml
Modify: title, author, date, abstract, version, etc.

Change EPUB Styling:
Edit: /home/user/NetHack/docs-build/epub.css
Modify: fonts, colors, spacing, layout

Change Chapter Order:
Edit SOURCES array in:
  - /home/user/NetHack/docs-build/Makefile (line ~13)
  - /home/user/NetHack/docs-build/build-epub.sh (line ~48)
  - /home/user/NetHack/docs-build/build-pdf.sh (line ~60)

Add New Chapters:
1. Create or add markdown file to /home/user/NetHack/
2. Add file path to SOURCES arrays (see above)
3. Rebuild: make all

Change PDF Layout:
Edit metadata.yaml settings:
  - geometry: Page margins
  - fontsize: Base font size (11pt default)
  - linestretch: Line spacing (1.2 default)
  - documentclass: book, article, report
  - classoption: twoside, oneside, etc.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
9. DEPENDENCIES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Required for EPUB:
✓ pandoc (version 2.0 or later)
  Install: sudo apt-get install pandoc

Required for PDF:
✓ pandoc (version 2.0 or later)
✓ XeLaTeX or pdfLaTeX (XeLaTeX recommended)
  Install: sudo apt-get install texlive-xetex texlive-fonts-recommended

Optional:
• pdfinfo - PDF metadata viewing
• epubcheck - EPUB validation
• Calibre - E-book management

Check installed versions:
pandoc --version
xelatex --version

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
10. TROUBLESHOOTING
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Problem: pandoc: command not found
Solution: sudo apt-get install pandoc

Problem: xelatex: command not found (PDF build fails)
Solution: sudo apt-get install texlive-xetex texlive-fonts-recommended

Problem: PDF build very slow or appears to hang
Solution: This is normal for first run (30-60 seconds). LaTeX may download
         fonts. Subsequent builds are faster (15-30 seconds).

Problem: Missing fonts in PDF
Solution: sudo apt-get install fonts-dejavu fonts-dejavu-extra

Problem: EPUB doesn't display properly
Solution: 
  - Ensure e-reader supports EPUB 3
  - Try different reader (Calibre, Adobe Digital Editions)
  - Check source markdown formatting

Problem: Build scripts not executable
Solution: chmod +x /home/user/NetHack/docs-build/*.sh

Problem: Missing LaTeX packages
Solution: sudo apt-get install texlive-full
         (or install specific missing packages as error messages indicate)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
11. FILE LISTING
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

All files with absolute paths:

BUILD SYSTEM (docs-build/):
  /home/user/NetHack/docs-build/Makefile
  /home/user/NetHack/docs-build/metadata.yaml
  /home/user/NetHack/docs-build/epub.css
  /home/user/NetHack/docs-build/build-epub.sh
  /home/user/NetHack/docs-build/build-pdf.sh
  /home/user/NetHack/docs-build/README_BUILD.md
  /home/user/NetHack/docs-build/QUICKSTART.md
  /home/user/NetHack/docs-build/BUILD_SYSTEM_SUMMARY.md

SOURCE DOCUMENTATION:
  /home/user/NetHack/README_BESTIARY.md
  /home/user/NetHack/MONSTER_CATALOG_COMPLETE.md
  /home/user/NetHack/NETHACK_ITEM_COMPENDIUM.md

OUTPUT (created during build):
  /home/user/NetHack/docs-output/
  /home/user/NetHack/docs-output/NetHack-Encyclopedia.epub
  /home/user/NetHack/docs-output/NetHack-Encyclopedia.pdf

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
12. BUILD STATISTICS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Build System Files:        8 files (47KB total)
Source Documentation:      3 files (76.5KB, 2,060 lines)
Output Formats:            2 formats (EPUB + PDF)
Makefile Targets:          6 targets
Build Methods:             3 methods (Makefile, scripts, direct pandoc)
Documentation Pages:       3 comprehensive guides

Estimated Build Times:
  EPUB:  5-10 seconds
  PDF:   30-60 seconds (first), 15-30 seconds (subsequent)
  Both:  40-70 seconds total

Estimated Output Sizes:
  EPUB:  ~100-200KB
  PDF:   ~500KB-1MB

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
13. NEXT STEPS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Verify setup:
   cd /home/user/NetHack/docs-build && make check

2. Read documentation:
   cat /home/user/NetHack/docs-build/QUICKSTART.md
   cat /home/user/NetHack/docs-build/README_BUILD.md

3. Install dependencies (if not already installed):
   sudo apt-get install pandoc texlive-xetex texlive-fonts-recommended

4. Build documentation:
   cd /home/user/NetHack/docs-build && make all

5. View output:
   ls -lh /home/user/NetHack/docs-output/

6. Customize (optional):
   - Edit metadata.yaml for book info
   - Edit epub.css for styling
   - Add more markdown files as chapters

═══════════════════════════════════════════════════════════════════════════
  Build System Complete and Ready!
  Created: 2025-11-19
═══════════════════════════════════════════════════════════════════════════
